<view class="container">
  <!-- 搜索栏 -->
  <view class="search-bar">
    <view class="search-input" bindtap="goToSearch">
      <icon type="search" size="14" color="#999"></icon>
      <text>搜索二手物品</text>
    </view>
  </view>

  <!-- 轮播图 -->
  <swiper class="banner" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000" duration="500">
    <block wx:for="{{banners}}" wx:key="id">
      <swiper-item>
        <image src="{{item.imageUrl}}" class="banner-image" mode="aspectFill" bindtap="onBannerTap" data-id="{{item.id}}"></image>
      </swiper-item>
    </block>
  </swiper>

  <!-- 分类导航 -->
  <view class="category-nav">
    <view class="category-item" wx:for="{{categories}}" wx:key="id" bindtap="navigateToCategory" data-id="{{item.id}}">
      <image src="{{item.icon}}" class="category-icon"></image>
      <text class="category-name">{{item.name}}</text>
    </view>
  </view>

  <!-- 推荐商品 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">推荐商品</text>
      <text class="more" bindtap="viewMore" data-type="recommend">查看更多</text>
    </view>
    <view class="item-list">
      <view class="item-card" wx:for="{{recommendItems}}" wx:key="id" bindtap="goToDetail" data-id="{{item._id}}">
        <image src="{{item.images[0]}}" class="item-image" mode="aspectFill"></image>
        <view class="item-info">
          <text class="item-title text-ellipsis-2">{{item.title}}</text>
          <view class="item-meta">
            <text class="price">¥{{item.price}}</text>
            <text class="location">{{item.location}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 最新上架 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">最新上架</text>
      <text class="more" bindtap="viewMore" data-type="new">查看更多</text>
    </view>
    <view class="item-list">
      <view class="item-card" wx:for="{{newItems}}" wx:key="id" bindtap="goToDetail" data-id="{{item._id}}">
        <image src="{{item.images[0]}}" class="item-image" mode="aspectFill"></image>
        <view class="item-info">
          <text class="item-title text-ellipsis-2">{{item.title}}</text>
          <view class="item-meta">
            <text class="price">¥{{item.price}}</text>
            <text class="location">{{item.location}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 加载更多 -->
  <view class="loading-more" wx:if="{{isLoading}}">
    <text>加载中...</text>
  </view>
  <view class="loading-more" wx:if="{{loadNoMore}}">
    <text>没有更多了</text>
  </view>
</view>